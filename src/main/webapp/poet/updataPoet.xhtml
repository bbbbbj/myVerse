<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	template="../templates/template.xhtml" xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	<ui:define name="title">诗人信息</ui:define>

<!-- 对于按钮，必须在form标签内 -->
	<ui:define name="content">
	<p:dialog visible = "#{not userBean.admin}" draggable= "false" resizable= "false" modal="true" closable="false">
		只有管理员才有资格访问该页面！<p:button value = "确定" outcome="index"/>
		</p:dialog>
	<h:form rendered="#{userBean.admin}">
			<!-- 参数必须是editPoet -->
			<p:growl id="msg" showDetail="true" />

			<p:panelGrid columns="2" bgcolor="#eff5fa" cellspacing="5"
				frame="box" styleClass="center">
				<h:outputText value="图片："></h:outputText>
				<p:graphicImage id="img" value="#{poetImageView.img}" alt="无法显示"
					width="100" height="100">
					<f:param name="poet" value="#{editPoet.id}"></f:param>
				</p:graphicImage>
				<h:outputText value="诗人"></h:outputText>
				<h:inputText value="#{editPoet.name}"><f:validateRegex pattern="[\u4e00-\u9fa5]{1,9}" /></h:inputText>

				<h:outputText value="朝代"></h:outputText>
				<h:inputText value="#{editPoet.dynasty}"><f:validateRegex pattern="[\u4e00-\u9fa5]{1,9}" /></h:inputText>
				<h:outputText value="数量"></h:outputText>
				<h:inputText value="#{editPoet.title}"><f:validateRegex pattern="[0-9]{11}" /></h:inputText>

				<h:outputText value="风格"></h:outputText>
				<h:inputText value="#{editPoet.hobby}"><f:validateRegex pattern="[\u4e00-\u9fa5]{1,9}" /></h:inputText>
		        <p:commandButton action = "#{editPoet.updataPoet}" value = "更新"></p:commandButton>
			</p:panelGrid>
		</h:form>
	
	</ui:define>
</ui:composition>
